<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Parafoil Project - Thomas Tran</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            color: #d1d5db;
        }
        .content-section {
            background-color: #1f2937;
            border: 1px solid #374151;
        }
        h2 {
            border-bottom: 2px solid #38bdf8; /* sky-400 */
            padding-bottom: 0.5rem;
        }
        .btn {
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        .btn:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">

        <!-- Project Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-white">Autonomous Parafoil Guidance & Control System</h1>
            <p class="mt-2 text-lg text-sky-300">A custom PCB-based GNC system for precision payload recovery.</p>
            <div class="mt-4 flex justify-center space-x-4">
                <span class="bg-green-900 text-green-300 text-xs font-semibold px-3 py-1 rounded-full">Completed Fall 2025</span>
                <span class="bg-sky-900 text-sky-300 text-xs font-semibold px-3 py-1 rounded-full">STM32H7</span>
                <span class="bg-purple-900 text-purple-300 text-xs font-semibold px-3 py-1 rounded-full">Altium Designer</span>
            </div>
        </header>

        <div class="space-y-12">

            <!-- Project Overview -->
            <section class="content-section p-6 rounded-lg">
                <h2 class="text-3xl font-bold mb-4 text-white">Project Overview</h2>
                <div class="md:flex md:space-x-8 items-center">
                    <div class="md:w-2/3 text-lg leading-relaxed">
                        <p>This project involved designing, building, and validating an autonomous guidance unit (AGU) capable of navigating a 5kg payload to a designated GPS coordinate. The system was designed to address the problem of recovering high-altitude scientific payloads, which often drift off-course during descent.</p>
                        <p class="mt-4">The final system features a custom 4-layer PCB, a high-fidelity sensor suite, and a robust Guidance, Navigation, and Control (GNC) algorithm. During final field testing, the system successfully navigated from a drop height of 75 meters to land within <span class="text-sky-300 font-bold">5 meters</span> of the target coordinate.</p>
                    </div>
                    <div class="md:w-1/3 mt-6 md:mt-0">
                        <img src="assets/images/pcbstructure.jpg" alt="Final Assembly" class="rounded-lg shadow-lg w-full object-cover h-64 border border-gray-600">
                        <p class="text-center text-sm mt-2 text-gray-400">The final AGU assembly showing the servo actuation system and parachute rigging.</p>
                    </div>
                </div>
            </section>

            <!-- PCB Design Spotlight -->
            <section class="content-section p-6 rounded-lg border-l-4 border-sky-500">
                <h2 class="text-3xl font-bold mb-6 text-white text-center">Custom PCB Architecture</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <div>
                        <img src="assets/images/pcbimage1.jpg" alt="Custom PCB Top View" class="rounded-lg shadow-xl w-full border border-gray-600 mb-4 transform hover:scale-105 transition-transform duration-300">
                        <img src="assets/images/pcbimage2.jpg" alt="Custom PCB Bottom View" class="rounded-lg shadow-xl w-full border border-gray-600 transform hover:scale-105 transition-transform duration-300">
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-bold text-sky-400 mb-2">Layer Stackup & Signal Integrity</h3>
                            <p class="text-gray-300">Designed a custom 4-layer PCB in Altium Designer using a <span class="text-white font-semibold">Ground-Signal-Power-Ground</span> stackup. This configuration shields sensitive internal signal traces from external EMI, crucial for the high-frequency GPS and RF modules. I utilized <span class="text-white font-semibold">2oz copper</span> for internal layers to handle high current density from the servo motors and minimize resistive heating.</p>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold text-sky-400 mb-2">Power Distribution Network</h3>
                            <p class="text-gray-300">Implemented a <span class="text-white font-semibold">"Star Routing" topology</span> to isolate the noisy high-current servo power rails from the sensitive 3.3V logic rails. This prevents voltage drops and ground bounce caused by servo stall currents from resetting the microcontroller.</p>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold text-sky-400 mb-2">RF & Component Integration</h3>
                            <ul class="list-disc list-inside text-gray-300 space-y-2">
                                <li><strong>MCU:</strong> STM32H7 High-Performance Microcontroller.</li>
                                <li><strong>GPS:</strong> Integrated NEO-M9N module with a custom bias-tee circuit (27nH inductor + 100nF cap network) to inject DC power into the active antenna while isolating the RF path.</li>
                                <li><strong>Sensors:</strong> BNO085 9-Axis IMU for attitude estimation.</li>
                                <li><strong>Protection:</strong> Reverse polarity protection via Schottky diodes and dedicated status LEDs for all power rails.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Firmware & Control -->
            <section class="content-section p-6 rounded-lg">
                <h2 class="text-3xl font-bold mb-6 text-white">Firmware & Autonomy</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="text-lg leading-relaxed">
                        <h3 class="text-2xl font-semibold text-sky-300 mb-3">FreeRTOS Architecture</h3>
                        <p class="mb-4">The firmware is built on FreeRTOS to manage asynchronous sensor data and control loops. The system is architected into three primary prioritized tasks:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-300 mb-6">
                            <li><strong>Sensor Acquisition (High Priority):</strong> Polls IMU data at 100Hz via a custom SPI driver handling the SHTP protocol.</li>
                            <li><strong>Navigation (DMA-Driven):</strong> Parses binary UBX GPS packets using Direct Memory Access (DMA) to extract velocity vectors without blocking the CPU.</li>
                            <li><strong>Telemetry & Control:</strong> Manages XBee communication and servo PWM generation.</li>
                        </ul>

                        <h3 class="text-2xl font-semibold text-sky-300 mb-3">Extended Kalman Filter (EKF)</h3>
                        <p class="text-gray-300">
                            I implemented a <strong>7-state EKF</strong> (Position N/E/D, Velocity N/E/D, Heading Bias) to fuse the 100Hz inertial data with lower-frequency GPS updates. To optimize for the microcontroller, I developed a <strong>Sequential Update</strong> method, processing GPS scalars (North, East, Down) independently to avoid computationally expensive 7x7 matrix inversions.
                        </p>
                    </div>
                    
                    <div class="flex flex-col justify-center space-y-4">
                        <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                            <h4 class="text-lg font-bold text-white mb-2"><i class="fas fa-code-branch text-sky-400 mr-2"></i>Key Driver Features</h4>
                            <ul class="text-sm text-gray-400 space-y-2">
                                <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Custom SPI driver for BNO085 SHTP</li>
                                <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Binary UBX GPS Parser (vs. slow NMEA)</li>
                                <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Hardware-in-the-loop simulation mode</li>
                            </ul>
                        </div>
                        <img src="assets/images/image_7fa179.png" alt="GitHub Repository Structure" class="rounded-lg shadow-lg border border-gray-600 opacity-80 hover:opacity-100 transition-opacity">
                    </div>
                </div>
            </section>
            
            <!-- Project Documents -->
            <section class="content-section p-6 rounded-lg">
                <h2 class="text-3xl font-bold mb-4 text-white">Project Resources</h2>
                <div class="flex flex-col md:flex-row justify-center gap-4">
                    <a href="assets/docs/EECS_473_Final_Report_Draft__1_ (1).pdf" target="_blank" class="btn bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg inline-flex items-center justify-center">
                        <i class="fas fa-file-pdf mr-3 text-red-400"></i> Read Final Report
                    </a>
                    <a href="https://github.com/mjcapo/EECS473-Parafoilers.git" target="_blank" class="btn bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg inline-flex items-center justify-center border border-gray-600">
                        <i class="fab fa-github mr-3 text-white"></i> View Source Code
                    </a>
                </div>
            </section>

        </div>

        <!-- Back to Home Button -->
        <div class="text-center mt-16">
            <a href="index.html" class="btn bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 px-6 rounded-full text-lg">
                <i class="fas fa-arrow-left mr-2"></i> Back to Portfolio
            </a>
        </div>
    </main>

</body>
</html>
